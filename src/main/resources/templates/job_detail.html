<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
<!-- D√πng layout chung: header + footer t·ª± ch√®n -->
<div th:replace="~{layout :: layout(~{::#jobDetailContent})}">
    <div id="jobDetailContent" class="py-5">

        <style>
            body {
                background-color: #f8fafc;
                font-family: "Inter", system-ui, sans-serif;
            }

            .job-card {
                background: #ffffff;
                border-radius: 16px;
                padding: 32px;
                box-shadow: 0 6px 18px rgba(15, 23, 42, 0.08);
                max-width: 900px;
                margin: 0 auto;
            }

            .job-header {
                border-bottom: 1px solid #e2e8f0;
                margin-bottom: 20px;
                padding-bottom: 16px;
            }

            .job-header h2 {
                color: #0d6efd;
                font-weight: 700;
                margin-bottom: 6px;
            }

            .job-meta {
                font-size: 0.95rem;
                color: #6c757d;
            }

            .job-meta i {
                color: #0d6efd;
            }

            .job-description {
                line-height: 1.7;
                color: #334155;
                white-space: pre-line; /* n·∫øu m√¥ t·∫£ c√≥ xu·ªëng d√≤ng */
            }

            .badge-jobtype {
                background-color: #e7f1ff;
                color: #0d6efd;
                font-weight: 600;
                font-size: 0.85rem;
                padding: 6px 12px;
                border-radius: 999px;
            }

            .salary-box {
                background-color: #fff7e6;
                border: 1px solid #ffe69c;
                border-radius: 12px;
                padding: 10px 16px;
                font-weight: 500;
                display: inline-flex;
                align-items: center;
                gap: 6px;
                color: #b8860b;
            }

            .salary-box span {
                font-weight: 600;
            }

            @media (max-width: 768px) {
                .job-card {
                    padding: 20px;
                    margin-inline: 12px;
                }
            }
        </style>

        <div class="job-card">

            <!-- üßæ Job Header -->
            <div class="job-header">
                <h2 th:text="${job.title}">Software Engineer</h2>

                <p class="job-meta mb-2">
                    <i class="bi bi-building"></i>
                    <span th:text="${job.company.name}">ABC Company</span>
                    &nbsp; | &nbsp;
                    <i class="bi bi-geo-alt"></i>
                    <span th:text="${job.location}">Hanoi, Vietnam</span>
                </p>

                <p class="job-meta">
                    <i class="bi bi-calendar-event"></i>
                    <span th:text="${#temporals.format(job.postedDate, 'dd MMM yyyy')}">13 Nov 2025</span>
                    &nbsp; | &nbsp;
                    <i class="bi bi-briefcase"></i>
                    <span class="badge-jobtype" th:text="${job.jobType}">Full Time</span>
                </p>
            </div>

            <!-- üí∞ Salary -->
            <div class="mb-3">
                <div class="salary-box" th:if="${!#strings.isEmpty(job.salary)}">
                    üíµ <span>Salary:</span>
                    <span th:text="${job.salary}">$1000 - $2000</span>
                </div>
            </div>

            <!-- üìÑ Description -->
            <div>
                <h5 class="fw-semibold mb-3 text-primary">
                    <i class="bi bi-info-circle"></i> Job Description
                </h5>
                <div th:utext="${job.description}" class="job-description"></div>

                </p>
            </div>

            <!-- üîó Website -->
            <div class="mt-4"
                 th:if="${job.company != null and !#strings.isEmpty(job.company.website)}">
                <h6 class="fw-semibold mb-1">
                    <i class="bi bi-globe"></i> Company Website
                </h6>
                <a th:href="${job.company.website}" target="_blank"
                   th:text="${job.company.website}"
                   class="text-decoration-none text-primary small fw-semibold"></a>
            </div>

            <!-- ‚öôÔ∏è Buttons -->
            <div class="d-flex justify-content-center gap-3 mt-5 flex-wrap">
                <a href="javascript:void(0)"
                   class="btn btn-secondary px-4"
                   onclick="if (document.referrer) { window.history.back(); } else { window.location.href = '/jobs'; }">
                    <i class="bi bi-arrow-left"></i> Back
                </a>

                <a href="#" class="btn btn-success px-4">
                    <i class="bi bi-send"></i> Apply Now
                </a>
            </div>

        </div>
    </div>
</div>
</body>
</html>
